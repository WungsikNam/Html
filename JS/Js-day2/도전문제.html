<!DOCTYPE html>
<html lang="ko">
    <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>도전문제-[구조분해, spread연산]</title>
    </head>
    <body>
    <script type="text/javascript">
        let items = [
        { id: 1, name: "벤치프레스", count: 10 },
        { id: 2, name: "랫풀다운", count: 12 },
        { id: 3, name: "스쿼트", count: 30 },
        ];
        document.write("<br/>");
      // 추가하기 - 전개연산자 - 2번
      //배열만 있을 때
      //객체만 있을 때
      //배열안에 객체가 있을 때
    document.write("<div>");
    document.write("<table border='1' borderColor ='red'>");
    let items_copy = [...items, { id: 5, name: "레그프레스", count: 20 }];
    items_copy.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
    });
    document.write("</table>");
    document.write("</div>");
    document.write("<br/>");

      //삭제하기 - filter함수 -3 번 - 대화형 프로그래밍 처리 훈련
      // prompt 문자열밖에 못 받음 
    //result = window.prompt("삭제하고자 하는 id를 입력하세요.");
    //alert("사용자가 선택한 아이디는 " + result + "입니다.");
      // arr.filter(callback(element[, index[, array]])[, thisArg])
      //filter함수는 조건을 수렴하는 것만 남겨서 새로운 배열을 반환함
    let newItems = items.filter((row) => row.id !==  parseInt(result));
    document.write("<div>");
    document.write("<table border='1' borderColor ='black'>");
        newItems.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("</tr>");
    });
    document.write("</table>");
    document.write("</div>");
    document.write("<br/>");

      // const result = items.filter((name,index) => name.length > 4);
      // console.log(result);
      // document.write(result)

      //수정하기 - 추가하기 동일하게 처리 - 4번(삭제하고 추가하기)
      result = window.prompt("삭제하고자 하는 id를 입력하세요.");
      let x= [...items]//얕은복사
      items.forEach((item)=>{
        if(item.id===parseInt(result)){
            x = items.filter(item=>iten.id !==parseInt(result))
            x=  [...x {id: `${parseInt(result)}`, name: "무빙프레스", count: 20} ]
        }
      })


    /* splice(삽입위치, 잘라낼 개수, 추가할 내용) - 배열에 새로운 요소를 잘라서 붙임*/

      //조회하기 - ForEach -1번
      //더블쿼테이션과 싱클 쿼테이션
      //문제는 같이 사용할 경우 바깥쪽을 더블, 안쪽을 싱글
      //<태그 속성명 = 값> 내용</태그>
    document.write("<div>");
    document.write("<table border='1' borderColor ='green'>");
    items.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        mvcdocument.write("</tr>");
    });
    document.write("</table>");
    document.write("</div>");
    </script>
    </body>
</html>